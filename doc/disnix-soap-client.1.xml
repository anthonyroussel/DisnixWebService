<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- lifted from man+troff by doclifter -->
<refentry xmlns='http://docbook.org/ns/docbook' version='5.0' xml:lang='en' xml:id='sec-disnix-soap-client'>
<!-- DO NOT MODIFY THIS FILE!  It was generated by help2man 1.46.5. -->
<refmeta>
<refentrytitle>DISNIX-SOAP-CLIENT</refentrytitle>
<manvolnum>1</manvolnum>
<refmiscinfo class='source'>June 2015</refmiscinfo>
<refmiscinfo class='manual'>disnix-soap-client (DisnixWebService 0.4)</refmiscinfo>
</refmeta>
<refnamediv>
<refname>disnix-soap-client</refname>
<refpurpose>Provides access to the disnix-service through the SOAP protocol</refpurpose>
</refnamediv>
<!-- body begins here -->
<refsynopsisdiv xml:id='synopsis'>
<cmdsynopsis>
  <command>disnix-soap-client</command>    
    <arg choice='plain'>--target <replaceable>targetEPR</replaceable></arg>
    <arg choice='plain'><replaceable>operation</replaceable></arg>
    <arg choice='opt'><replaceable>OPTION</replaceable></arg>
    <arg choice='plain'><replaceable>paths</replaceable></arg>
</cmdsynopsis>
</refsynopsisdiv>


<refsect1 xml:id='description'><title>DESCRIPTION</title>
<para>The command `disnix-ssh-client' provides remote access to a `disnix-service'
instance running on a machine in the network by using a SOAP/HTTP connection.
This allows the user to perform remote deployment operations on a target machine
through SOAP.</para>

<para>In most cases this command is not used directly, but is used by specifying the
<option>--interface</option> option for a Disnix command-line utility (such as `disnix-env') or
by setting the `DISNIX_CLIENT_INTERFACE' environment variable. By using one of
those properties, the Disnix tools will use the given interface instead of the
standard `disnix-client' which only provides loopback access.</para>
</refsect1>

<refsect1 xml:id='options'><title>OPTIONS</title>
<para>Operations:</para>

<refsect2 xml:id='operations'><title>Operations:</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>--import</option></term>
  <listitem>
<para>Imports a given closure into the Nix store of the
target machine. Optionally, transfers the closure
from this machine to the target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--export</option></term>
  <listitem>
<para>Exports the closure of a given Nix store path of
the target machine into a file, and optionally
downloads it</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--print-invalid</option></term>
  <listitem>
<para>Prints all the paths that are not valid in the Nix
store of the target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-r</option>, <option>--realise</option></term>
  <listitem>
<para>Realises the given store derivation on the target
machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--set</option></term>
  <listitem>
<para>Creates a Disnix profile only containing the given
derivation on the target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-q</option>, <option>--query-installed</option></term>
  <listitem>
<para>Queries all the installed services on the given
target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--query-requisites</option></term>
  <listitem>
<para>Queries all the requisites (intra-dependencies) of
the given services on the target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--collect-garbage</option></term>
  <listitem>
<para>Collects garbage on the given target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--activate</option></term>
  <listitem>
<para>Activates the given service on the target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--deactivate</option></term>
  <listitem>
<para>Deactivates the given service on the target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--lock</option></term>
  <listitem>
<para>Acquires a lock on a Disnix profile of the target
machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--unlock</option></term>
  <listitem>
<para>Release the lock on a Disnix profile of the target
machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--snapshot</option></term>
  <listitem>
<para>Snapshots the logical state of a component on the
given target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--restore</option></term>
  <listitem>
<para>Restores the logical state of a component on the
given target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--delete-state</option></term>
  <listitem>
<para>Deletes the state of a component on the given
machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--query-all-snapshots</option></term>
  <listitem>
<para>Queries all available snapshots of a component on
the given target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--query-latest-snapshot</option></term>
  <listitem>
<para>Queries the latest snapshot of a component on the
given target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--print-missing-snapshots</option></term>
  <listitem>
<para>Prints the paths of all snapshots not present on
the given target machine</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--import-snapshots</option></term>
  <listitem>
<para>Imports the specified snapshots into the remote
snapshot store</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--export-snapshots</option></term>
  <listitem>
<para>Exports the specified snapshot to the local
snapshot store</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--resolve-snapshots</option></term>
  <listitem>
<para>Converts the relative paths to the snapshots to
absolute paths</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--clean-snapshots</option></term>
  <listitem>
<para>Removes older snapshots from the snapshot store</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--help</option></term>
  <listitem>
<para>Shows the usage of this command to the user</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--version</option></term>
  <listitem>
<para>Shows the version of this command to the user</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect2>

<refsect2 xml:id='general_options'><title>General options:</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>-t</option>, <option>--target</option>=<emphasis remap='I'>TARGET</emphasis></term>
  <listitem>
<para>Specifies the hostname and optional port number of
the SSH server used to connect to the target
machine</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect2>

<refsect2 xml:id='importexportimport_snapshotsexport_snaps'><title>Import/Export/Import snapshots/Export snapshots options:</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>--localfile</option></term>
  <listitem>
<para>Specifies that the given paths are stored locally
and must be transferred to the remote machine if
needed</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--remotefile</option></term>
  <listitem>
<para>Specifies that the given paths are stored remotely
and must transferred from the remote machine if
needed</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect2>

<refsect2 xml:id='setquery_installedlockunlock_options'><title>Set/Query installed/Lock/Unlock options:</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>-p</option>, <option>--profile</option>=<emphasis remap='I'>PROFILE</emphasis></term>
  <listitem>
<para>Name of the Disnix profile. Defaults to: default</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect2>

<refsect2 xml:id='collect_garbage_options'><title>Collect garbage options:</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>-d</option>, <option>--delete-old</option></term>
  <listitem>
<para>Indicates whether all older generations of Nix
profiles must be removed as well</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect2>

<refsect2 xml:id='activationdeactivationsnapshotrestoredel'><title>Activation/Deactivation/Snapshot/Restore/Delete state options:</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>--type</option>=<emphasis remap='I'>TYPE</emphasis></term>
  <listitem>
<para>Specifies the activation module that should be
used, such as echo or process.</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>--arguments</option>=<emphasis remap='I'>ARGUMENTS</emphasis></term>
  <listitem>
<para>Specifies the arguments passed to the Dysnomia
module, which is a string with key=value pairs</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect2>

<refsect2 xml:id='query_all_snapshotsquery_latest_snapshot'><title>Query all snapshots/Query latest snapshot options:</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>-C</option>, <option>--container</option>=<emphasis remap='I'>CONTAINER</emphasis></term>
  <listitem>
<para>Name of the container in which the component is managed</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term><option>-c</option>, <option>--component</option>=<emphasis remap='I'>COMPONENT</emphasis></term>
  <listitem>
<para>Name of the component hosted in a container</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect2>

<refsect2 xml:id='clean_snapshots_options'><title>Clean snapshots options:</title>
<variablelist remap='TP'>
  <varlistentry>
  <term><option>--keep</option>=<emphasis remap='I'>NUM</emphasis></term>
  <listitem>
<para>Amount of snapshot generations to keep. Defaults
to: 1</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect2>
</refsect1>

<refsect1 xml:id='environment'><title>ENVIRONMENT</title>
<variablelist remap='TP'>
  <varlistentry>
  <term>DISNIX_PROFILE</term>
  <listitem>
<para>Sets the name of the profile that stores the
manifest on the coordinator machine and the
deployed services per machine on each target
(Defaults to: default)</para>
  </listitem>
  </varlistentry>
  <varlistentry>
  <term>DYSNOMIA_STATEDIR</term>
  <listitem>
<para>Specifies where the snapshots must be stored on the
coordinator machine (defaults to: <filename>/var/state/dysnomia</filename>)</para>
  </listitem>
  </varlistentry>
</variablelist>
</refsect1>

<refsect1 xml:id='copyright'><title>COPYRIGHT</title>
<para>Copyright (C) 2008-2015 Sander van der Burg</para>
</refsect1>
</refentry>

